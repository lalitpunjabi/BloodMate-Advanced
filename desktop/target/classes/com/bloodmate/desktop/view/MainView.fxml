<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.bloodmate.desktop.controller.MainController" 
            styleClass="main-container">

    <!-- Left Sidebar Navigation -->
    <left>
        <VBox styleClass="sidebar">
            <!-- Logo and Header -->
            <VBox styleClass="sidebar-header">
                <!-- Clickable Logo Button -->
                <Button fx:id="logoBtn" styleClass="logo-button" maxWidth="Infinity">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <!-- Blood Drop Icon -->
                            <VBox styleClass="blood-drop-logo" alignment="CENTER">
                                <Label text="ðŸ©¸" styleClass="blood-drop-icon"/>
                            </VBox>
                            <!-- Logo Text -->
                            <VBox alignment="CENTER_LEFT">
                                <Label text="BloodMate" styleClass="logo-title"/>
                                <Label text="Blood Bank System" styleClass="logo-subtitle"/>
                            </VBox>
                        </HBox>
                    </graphic>
                </Button>
                <Button fx:id="themeToggleBtn" text="ðŸŒ™ Dark Mode" styleClass="theme-toggle" 
                        maxWidth="Infinity"/>
            </VBox>
            
            <!-- Scrollable Navigation Menu -->
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" styleClass="sidebar-scroll">
                <VBox spacing="2">
                    <Button fx:id="dashboardBtn" text="ðŸ“Š Dashboard" styleClass="nav-button,active" 
                            maxWidth="Infinity"/>
                    <Button fx:id="donorsBtn" text="ðŸ‘¥ Donor Management" styleClass="nav-button" 
                            maxWidth="Infinity"/>
                    <Button fx:id="recipientsBtn" text="ðŸ¥ Recipients" styleClass="nav-button" 
                            maxWidth="Infinity"/>
                    <Button fx:id="inventoryBtn" text="ðŸ“¦ Blood Inventory" styleClass="nav-button" 
                            maxWidth="Infinity"/>
                    <Button fx:id="campaignsBtn" text="ðŸ“… Campaigns" styleClass="nav-button" 
                            maxWidth="Infinity"/>
                    <Button fx:id="rewardsBtn" text="ðŸ† Rewards &amp; Leaderboard" styleClass="nav-button" 
                            maxWidth="Infinity"/>
                    <Button fx:id="statisticsBtn" text="ðŸ“ˆ Statistics &amp; Reports" styleClass="nav-button" 
                            maxWidth="Infinity"/>
                    <Button fx:id="emergencyBtn" text="ðŸš¨ Emergency Response" styleClass="nav-button" 
                            maxWidth="Infinity"/>
                    
                    
                    <!-- Spacer -->
                    <Region VBox.vgrow="ALWAYS"/>
                    
                    <Button fx:id="settingsBtn" text="âš™ï¸ Settings" styleClass="nav-button" 
                            maxWidth="Infinity"/>
                    <Button fx:id="logoutBtn" text="ðŸšª Logout" styleClass="nav-button" 
                            maxWidth="Infinity"/>
                </VBox>
            </ScrollPane>
        </VBox>
    </left>
    
    <!-- Main Content Area -->
    <center>
        <StackPane fx:id="contentArea" styleClass="content-area">
            <!-- Dashboard Content (Default View) -->
            <ScrollPane fx:id="dashboardView" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ“Š Dashboard Overview" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Label fx:id="currentDateTime" styleClass="section-title"/>
                        <Button text="ðŸ”„ Refresh" styleClass="modern-button"/>
                    </HBox>
                    
                    <!-- Key Statistics Cards -->
                    <GridPane hgap="20" vgap="20">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                        </columnConstraints>
                        
                        <!-- Total Donors Card -->
                        <VBox styleClass="stat-card" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label text="ðŸ‘¥ Total Donors" styleClass="stat-title"/>
                            <Label fx:id="totalDonorsLabel" text="1,247" styleClass="stat-number"/>
                            <Label text="+24 this month" styleClass="stat-change-positive"/>
                        </VBox>
                        
                        <!-- Available Blood Units Card -->
                        <VBox styleClass="stat-card" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="ðŸ©¸ Available Units" styleClass="stat-title"/>
                            <Label fx:id="bloodUnitsLabel" text="3,456" styleClass="stat-number"/>
                            <Label text="89% capacity" styleClass="stat-change-neutral"/>
                        </VBox>
                        
                        <!-- Pending Requests Card -->
                        <VBox styleClass="stat-card" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <Label text="ðŸ“‹ Pending Requests" styleClass="stat-title"/>
                            <Label fx:id="pendingRequestsLabel" text="23" styleClass="stat-number"/>
                            <Label text="Urgent: 3" styleClass="stat-change-negative"/>
                        </VBox>
                        
                        <!-- Emergency Alerts Card -->
                        <VBox styleClass="stat-card" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <Label text="ðŸš¨ Emergency Alerts" styleClass="stat-title"/>
                            <Label fx:id="emergencyAlertsLabel" text="2" styleClass="stat-number"/>
                            <Label text="O- Critical" styleClass="stat-change-negative"/>
                        </VBox>
                    </GridPane>
                    
                    <!-- Charts and Analytics Section -->
                    <HBox spacing="20">
                        <!-- Blood Type Distribution Chart -->
                        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS">
                            <Label text="ðŸ©¸ Blood Type Distribution" styleClass="card-title"/>
                            <VBox spacing="10">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="O+:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="opositiveProgress" progress="0.38" styleClass="blood-progress"/>
                                    <Label text="38%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="A+:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="apositiveProgress" progress="0.34" styleClass="blood-progress"/>
                                    <Label text="34%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="B+:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="bpositiveProgress" progress="0.09" styleClass="blood-progress"/>
                                    <Label text="9%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="O-:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="onegativeProgress" progress="0.07" styleClass="blood-progress critical"/>
                                    <Label text="7%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="A-:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="anegativeProgress" progress="0.06" styleClass="blood-progress"/>
                                    <Label text="6%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="AB+:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="abpositiveProgress" progress="0.04" styleClass="blood-progress"/>
                                    <Label text="4%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="B-:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="bnegativeProgress" progress="0.02" styleClass="blood-progress"/>
                                    <Label text="2%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="AB-:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="abnegativeProgress" progress="0.01" styleClass="blood-progress"/>
                                    <Label text="1%" styleClass="blood-percentage"/>
                                </HBox>
                            </VBox>
                        </VBox>
                        
                        <!-- Recent Activity Feed -->
                        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS">
                            <Label text="ðŸ“ˆ Recent Activity" styleClass="card-title"/>
                            <VBox spacing="8">
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="activity-item">
                                    <Label text="ðŸ©¸" styleClass="activity-icon"/>
                                    <VBox>
                                        <Label text="New donation from John Doe" styleClass="activity-text"/>
                                        <Label text="A+ â€¢ 450ml â€¢ 2 minutes ago" styleClass="activity-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="activity-item">
                                    <Label text="ðŸ¥" styleClass="activity-icon"/>
                                    <VBox>
                                        <Label text="Blood request from City Hospital" styleClass="activity-text"/>
                                        <Label text="O- â€¢ 2 units â€¢ 15 minutes ago" styleClass="activity-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="activity-item">
                                    <Label text="ðŸ‘¤" styleClass="activity-icon"/>
                                    <VBox>
                                        <Label text="New donor registration" styleClass="activity-text"/>
                                        <Label text="Sarah Smith â€¢ B+ â€¢ 1 hour ago" styleClass="activity-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="activity-item">
                                    <Label text="âš ï¸" styleClass="activity-icon"/>
                                    <VBox>
                                        <Label text="Low stock alert" styleClass="activity-text"/>
                                        <Label text="AB- â€¢ Below 50 units â€¢ 2 hours ago" styleClass="activity-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="activity-item">
                                    <Label text="ðŸš›" styleClass="activity-icon"/>
                                    <VBox>
                                        <Label text="Blood delivery completed" styleClass="activity-text"/>
                                        <Label text="Metro Hospital â€¢ 5 units â€¢ 3 hours ago" styleClass="activity-details"/>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </VBox>
                    </HBox>
                    
                    <!-- Quick Actions and Alerts -->
                    <HBox spacing="20">
                        <!-- Quick Actions -->
                        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS">
                            <Label text="âš¡ Quick Actions" styleClass="card-title"/>
                            <GridPane hgap="10" vgap="10">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="50"/>
                                    <ColumnConstraints percentWidth="50"/>
                                </columnConstraints>
                                <Button text="ðŸ‘¥ Register Donor" styleClass="action-button" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                <Button text="ðŸ©¸ Record Donation" styleClass="action-button" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                                <Button text="ðŸ¥ Blood Request" styleClass="action-button" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                <Button text="ðŸ“Š Generate Report" styleClass="action-button" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                            </GridPane>
                        </VBox>
                        
                        <!-- Critical Alerts -->
                        <VBox styleClass="dashboard-card alert-card" HBox.hgrow="ALWAYS">
                            <Label text="ðŸš¨ Critical Alerts" styleClass="card-title"/>
                            <VBox spacing="8">
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="alert-item critical">
                                    <Label text="ðŸ”´" styleClass="alert-icon"/>
                                    <VBox>
                                        <Label text="O- Blood Type Critical" styleClass="alert-text"/>
                                        <Label text="Only 12 units remaining" styleClass="alert-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="alert-item warning">
                                    <Label text="ðŸŸ¡" styleClass="alert-icon"/>
                                    <VBox>
                                        <Label text="AB- Low Stock Warning" styleClass="alert-text"/>
                                        <Label text="47 units remaining" styleClass="alert-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="alert-item info">
                                    <Label text="ðŸ”µ" styleClass="alert-icon"/>
                                    <VBox>
                                        <Label text="Scheduled Maintenance" styleClass="alert-text"/>
                                        <Label text="Storage Unit B â€¢ Tomorrow 2 AM" styleClass="alert-details"/>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </VBox>
                    </HBox>
                    
                    <!-- AI Insights and Predictions -->
                    <VBox styleClass="dashboard-card ai-card">
                        <Label text="ðŸ¤– AI Insights and Predictions" styleClass="card-title"/>
                        <HBox spacing="20">
                            <VBox HBox.hgrow="ALWAYS">
                                <Label text="ðŸ“ˆ Demand Forecast (Next 7 Days)" styleClass="ai-section-title"/>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="High Demand:" styleClass="forecast-label"/>
                                    <Label text="O+, A+" styleClass="forecast-value high"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="Medium Demand:" styleClass="forecast-label"/>
                                    <Label text="B+, O-" styleClass="forecast-value medium"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="Low Demand:" styleClass="forecast-label"/>
                                    <Label text="AB+, AB-, B-" styleClass="forecast-value low"/>
                                </HBox>
                            </VBox>
                            <VBox HBox.hgrow="ALWAYS">
                                <Label text="ðŸŽ¯ Recommended Actions" styleClass="ai-section-title"/>
                                <VBox spacing="5">
                                    <Label text="â€¢ Schedule O- donor campaign this week" styleClass="recommendation"/>
                                    <Label text="â€¢ Contact regular A+ donors for appointment" styleClass="recommendation"/>
                                    <Label text="â€¢ Prepare emergency protocol for O- shortage" styleClass="recommendation"/>
                                    <Label text="â€¢ Optimize storage rotation for B+ units" styleClass="recommendation"/>
                                </VBox>
                            </VBox>
                        </HBox>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Donor Management Interface -->
            <ScrollPane fx:id="donorsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header with Actions -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ‘¥ Donor Management" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ” Search" styleClass="modern-button secondary"/>
                        <Button text="âž• Register New Donor" styleClass="modern-button"/>
                        <Button text="ðŸ“Š Export Data" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Search and Filter Section -->
                    <HBox spacing="15" styleClass="filter-section">
                        <VBox spacing="5">
                            <Label text="Search by Name/ID" styleClass="filter-label"/>
                            <TextField fx:id="donorSearchField" promptText="Enter donor name or ID..." styleClass="search-field"/>
                        </VBox>
                        <VBox spacing="5">
                            <Label text="Blood Type" styleClass="filter-label"/>
                            <ComboBox fx:id="bloodTypeFilter" promptText="All Types" styleClass="filter-combo" />
                        </VBox>
                        <VBox spacing="5">
                            <Label text="Status" styleClass="filter-label"/>
                            <ComboBox fx:id="donorStatusFilter" promptText="All Status" styleClass="filter-combo" />
                        </VBox>
                        <VBox spacing="5">
                            <Label text="Location" styleClass="filter-label"/>
                            <ComboBox fx:id="locationFilter" promptText="All Locations" styleClass="filter-combo" />
                        </VBox>
                        <VBox alignment="BOTTOM_CENTER">
                            <Button text="ðŸ”„ Reset" styleClass="filter-reset-button"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Donor Statistics Summary -->
                    <HBox spacing="20">
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Total Donors" styleClass="mini-stat-title"/>
                            <Label fx:id="totalDonorsCount" text="1,247" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Active This Month" styleClass="mini-stat-title"/>
                            <Label fx:id="activeDonorsCount" text="324" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="New Registrations" styleClass="mini-stat-title"/>
                            <Label fx:id="newDonorsCount" text="42" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Eligible to Donate" styleClass="mini-stat-title"/>
                            <Label fx:id="eligibleDonorsCount" text="986" styleClass="mini-stat-number"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Donors Table -->
                    <VBox styleClass="table-container">
                        <Label text="Donor Directory" styleClass="table-title"/>
                        <TableView fx:id="donorsTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="donorIdColumn" text="ID" prefWidth="80"/>
                                <TableColumn fx:id="donorNameColumn" text="Full Name" prefWidth="180"/>
                                <TableColumn fx:id="donorBloodTypeColumn" text="Blood Type" prefWidth="100"/>
                                <TableColumn fx:id="donorAgeColumn" text="Age" prefWidth="80"/>
                                <TableColumn fx:id="donorPhoneColumn" text="Phone" prefWidth="130"/>
                                <TableColumn fx:id="donorEmailColumn" text="Email" prefWidth="200"/>
                                <TableColumn fx:id="donorLocationColumn" text="Location" prefWidth="120"/>
                                <TableColumn fx:id="donorLastDonationColumn" text="Last Donation" prefWidth="120"/>
                                <TableColumn fx:id="donorStatusColumn" text="Status" prefWidth="100"/>
                                <TableColumn fx:id="donorActionsColumn" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Quick Registration Form -->
                    <VBox styleClass="form-container">
                        <Label text="âš¡ Quick Donor Registration" styleClass="form-title"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                            </columnConstraints>
                            
                            <!-- Row 1 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="First Name *" styleClass="form-label"/>
                                <TextField fx:id="firstNameField" promptText="Enter first name" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Last Name *" styleClass="form-label"/>
                                <TextField fx:id="lastNameField" promptText="Enter last name" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="Blood Type *" styleClass="form-label"/>
                                <ComboBox fx:id="bloodTypeField" promptText="Select blood type" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="0">
                                <Label text="Date of Birth *" styleClass="form-label"/>
                                <DatePicker fx:id="dobField" promptText="Select date" styleClass="form-datepicker"/>
                            </VBox>
                            
                            <!-- Row 2 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="Phone Number *" styleClass="form-label"/>
                                <TextField fx:id="phoneField" promptText="Enter phone number" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="Email Address" styleClass="form-label"/>
                                <TextField fx:id="emailField" promptText="Enter email address" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="1">
                                <Label text="Gender *" styleClass="form-label"/>
                                <ComboBox fx:id="genderField" promptText="Select gender" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="1">
                                <Label text="Weight (kg) *" styleClass="form-label"/>
                                <TextField fx:id="weightField" promptText="Enter weight" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Row 3 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="2">
                                <Label text="Address" styleClass="form-label"/>
                                <TextArea fx:id="addressField" promptText="Enter complete address" prefRowCount="2" styleClass="form-textarea"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="2">
                                <Label text="Emergency Contact" styleClass="form-label"/>
                                <TextField fx:id="emergencyContactField" promptText="Contact number" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="2" alignment="BOTTOM_CENTER">
                                <Button text="ðŸ’¾ Register Donor" styleClass="register-button"/>
                            </VBox>
                        </GridPane>
                    </VBox>
                    
                    <!-- Recent Donor Activities -->
                    <VBox styleClass="activity-container">
                        <Label text="ðŸ“ˆ Recent Donor Activities" styleClass="activity-title"/>
                        <HBox spacing="20">
                            <VBox styleClass="activity-card" HBox.hgrow="ALWAYS">
                                <Label text="Today's Registrations" styleClass="activity-card-title"/>
                                <VBox spacing="8">
                                    <HBox alignment="CENTER_LEFT" spacing="10">
                                        <Label text="ðŸ‘¤" styleClass="activity-icon"/>
                                        <VBox>
                                            <Label text="John Smith - O+" styleClass="activity-text"/>
                                            <Label text="9:30 AM â€¢ Mumbai" styleClass="activity-time"/>
                                        </VBox>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="10">
                                        <Label text="ðŸ‘¤" styleClass="activity-icon"/>
                                        <VBox>
                                            <Label text="Sarah Johnson - A-" styleClass="activity-text"/>
                                            <Label text="11:15 AM â€¢ Delhi" styleClass="activity-time"/>
                                        </VBox>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="10">
                                        <Label text="ðŸ‘¤" styleClass="activity-icon"/>
                                        <VBox>
                                            <Label text="Mike Wilson - B+" styleClass="activity-text"/>
                                            <Label text="2:45 PM â€¢ Bangalore" styleClass="activity-time"/>
                                        </VBox>
                                    </HBox>
                                </VBox>
                            </VBox>
                            
                            <VBox styleClass="activity-card" HBox.hgrow="ALWAYS">
                                <Label text="Upcoming Appointments" styleClass="activity-card-title"/>
                                <VBox spacing="8">
                                    <HBox alignment="CENTER_LEFT" spacing="10">
                                        <Label text="ðŸ“…" styleClass="activity-icon"/>
                                        <VBox>
                                            <Label text="Emma Davis - O-" styleClass="activity-text"/>
                                            <Label text="Tomorrow 10:00 AM" styleClass="activity-time"/>
                                        </VBox>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="10">
                                        <Label text="ðŸ“…" styleClass="activity-icon"/>
                                        <VBox>
                                            <Label text="Robert Chen - AB+" styleClass="activity-text"/>
                                            <Label text="Tomorrow 2:30 PM" styleClass="activity-time"/>
                                        </VBox>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="10">
                                        <Label text="ðŸ“…" styleClass="activity-icon"/>
                                        <VBox>
                                            <Label text="Lisa Anderson - A+" styleClass="activity-text"/>
                                            <Label text="Friday 11:00 AM" styleClass="activity-time"/>
                                        </VBox>
                                    </HBox>
                                </VBox>
                            </VBox>
                        </HBox>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Recipients Management Interface -->
            <ScrollPane fx:id="recipientsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ¥ Recipient Management" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ©¸ Blood Matching" styleClass="modern-button"/>
                        <Button text="âž• New Request" styleClass="modern-button secondary"/>
                        <Button text="ðŸš¨ Emergency Request" styleClass="emergency-button"/>
                    </HBox>
                    
                    <!-- Blood Request Statistics -->
                    <GridPane hgap="20" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="20"/>
                            <ColumnConstraints percentWidth="20"/>
                            <ColumnConstraints percentWidth="20"/>
                            <ColumnConstraints percentWidth="20"/>
                            <ColumnConstraints percentWidth="20"/>
                        </columnConstraints>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label text="ðŸ“‹ Active Requests" styleClass="stat-title"/>
                            <Label fx:id="activeRequestsLabel" text="23" styleClass="stat-number"/>
                            <Label text="Priority: 3" styleClass="stat-change-negative"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="âœ… Fulfilled Today" styleClass="stat-title"/>
                            <Label fx:id="fulfilledTodayLabel" text="18" styleClass="stat-number"/>
                            <Label text="98% success rate" styleClass="stat-change-positive"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <Label text="â° Pending" styleClass="stat-title"/>
                            <Label fx:id="pendingRequestsLabel" text="12" styleClass="stat-number"/>
                            <Label text="Avg wait: 2.3h" styleClass="stat-change-neutral"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <Label text="ðŸš¨ Urgent" styleClass="stat-title"/>
                            <Label fx:id="urgentRequestsLabel" text="3" styleClass="stat-number"/>
                            <Label text="Immediate action" styleClass="stat-change-negative"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="4" GridPane.rowIndex="0">
                            <Label text="ðŸ¥ Hospitals" styleClass="stat-title"/>
                            <Label fx:id="hospitalCountLabel" text="47" styleClass="stat-number"/>
                            <Label text="Connected" styleClass="stat-change-positive"/>
                        </VBox>
                    </GridPane>
                    
                    <!-- Blood Compatibility Matcher -->
                    <VBox styleClass="compatibility-section">
                        <Label text="ðŸ©¸ Blood Compatibility Matcher" styleClass="section-title"/>
                        <HBox spacing="20">
                            <VBox styleClass="matcher-input" HBox.hgrow="ALWAYS">
                                <Label text="Required Blood Type" styleClass="matcher-label"/>
                                <ComboBox fx:id="requiredBloodType" promptText="Select required type" styleClass="matcher-combo" />
                            </VBox>
                            <VBox styleClass="matcher-input" HBox.hgrow="ALWAYS">
                                <Label text="Required Units" styleClass="matcher-label"/>
                                <TextField fx:id="requiredUnits" promptText="Number of units" styleClass="matcher-field"/>
                            </VBox>
                            <VBox styleClass="matcher-input" HBox.hgrow="ALWAYS">
                                <Label text="Priority Level" styleClass="matcher-label"/>
                                <ComboBox fx:id="priorityLevel" promptText="Select priority" styleClass="matcher-combo" />
                            </VBox>
                            <VBox alignment="BOTTOM_CENTER">
                                <Button text="ðŸ” Find Matches" styleClass="find-matches-button"/>
                            </VBox>
                        </HBox>
                        
                        <!-- Compatibility Results -->
                        <VBox fx:id="compatibilityResults" styleClass="compatibility-results">
                            <Label text="Compatible Matches" styleClass="results-title"/>
                            <GridPane hgap="15" vgap="10">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="33"/>
                                    <ColumnConstraints percentWidth="33"/>
                                    <ColumnConstraints percentWidth="34"/>
                                </columnConstraints>
                                
                                <VBox styleClass="match-card perfect" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                    <Label text="ðŸŸ¢ Perfect Match" styleClass="match-type"/>
                                    <Label text="O+ Blood Available" styleClass="match-blood-type"/>
                                    <Label text="47 units in stock" styleClass="match-units"/>
                                    <Label text="Compatible: 100%" styleClass="match-compatibility"/>
                                    <Button text="âœ… Select" styleClass="match-select-button"/>
                                </VBox>
                                
                                <VBox styleClass="match-card good" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                    <Label text="ðŸŸ¡ Good Match" styleClass="match-type"/>
                                    <Label text="O- Blood Available" styleClass="match-blood-type"/>
                                    <Label text="12 units in stock" styleClass="match-units"/>
                                    <Label text="Compatible: 85%" styleClass="match-compatibility"/>
                                    <Button text="âš ï¸ Consider" styleClass="match-consider-button"/>
                                </VBox>
                                
                                <VBox styleClass="match-card alternative" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                    <Label text="ðŸŸ  Alternative" styleClass="match-type"/>
                                    <Label text="A+ Blood Available" styleClass="match-blood-type"/>
                                    <Label text="89 units in stock" styleClass="match-units"/>
                                    <Label text="Cross-match required" styleClass="match-compatibility"/>
                                    <Button text="ðŸ§ª Test" styleClass="match-test-button"/>
                                </VBox>
                            </GridPane>
                        </VBox>
                    </VBox>
                    
                    <!-- Active Requests Table -->
                    <VBox styleClass="table-container">
                        <Label text="Active Blood Requests" styleClass="table-title"/>
                        <TableView fx:id="requestsTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="requestIdColumn" text="Request ID" prefWidth="100"/>
                                <TableColumn fx:id="hospitalColumn" text="Hospital" prefWidth="150"/>
                                <TableColumn fx:id="patientNameColumn" text="Patient" prefWidth="120"/>
                                <TableColumn fx:id="bloodTypeNeededColumn" text="Blood Type" prefWidth="100"/>
                                <TableColumn fx:id="unitsNeededColumn" text="Units" prefWidth="80"/>
                                <TableColumn fx:id="priorityColumn" text="Priority" prefWidth="100"/>
                                <TableColumn fx:id="requestTimeColumn" text="Requested" prefWidth="120"/>
                                <TableColumn fx:id="statusColumn" text="Status" prefWidth="100"/>
                                <TableColumn fx:id="actionsColumn" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Emergency Request Form -->
                    <VBox styleClass="emergency-form">
                        <Label text="ðŸš¨ Emergency Blood Request" styleClass="emergency-form-title"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                            </columnConstraints>
                            
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="Hospital Name *" styleClass="emergency-label"/>
                                <TextField fx:id="emergencyHospital" promptText="Enter hospital name" styleClass="emergency-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Patient Name *" styleClass="emergency-label"/>
                                <TextField fx:id="emergencyPatient" promptText="Enter patient name" styleClass="emergency-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="Blood Type *" styleClass="emergency-label"/>
                                <ComboBox fx:id="emergencyBloodType" promptText="Select type" styleClass="emergency-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="0">
                                <Label text="Units Required *" styleClass="emergency-label"/>
                                <TextField fx:id="emergencyUnits" promptText="Number of units" styleClass="emergency-input"/>
                            </VBox>
                            
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="Contact Person *" styleClass="emergency-label"/>
                                <TextField fx:id="emergencyContact" promptText="Doctor/Contact name" styleClass="emergency-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="Phone Number *" styleClass="emergency-label"/>
                                <TextField fx:id="emergencyPhone" promptText="Contact number" styleClass="emergency-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="1">
                                <Label text="Expected Time" styleClass="emergency-label"/>
                                <TextField fx:id="emergencyTime" promptText="When needed" styleClass="emergency-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="1" alignment="BOTTOM_CENTER">
                                <Button text="ðŸš¨ Submit Emergency" styleClass="emergency-submit-button"/>
                            </VBox>
                        </GridPane>
                    </VBox>
                    
                    <!-- Recent Fulfillments -->
                    <HBox spacing="20">
                        <VBox styleClass="fulfillment-card" HBox.hgrow="ALWAYS">
                            <Label text="âœ… Recently Fulfilled" styleClass="fulfillment-title"/>
                            <VBox spacing="8">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸ¥" styleClass="fulfillment-icon"/>
                                    <VBox>
                                        <Label text="City Hospital - O+ (3 units)" styleClass="fulfillment-text"/>
                                        <Label text="Delivered 15 minutes ago" styleClass="fulfillment-time"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸ¥" styleClass="fulfillment-icon"/>
                                    <VBox>
                                        <Label text="Metro Medical - A- (2 units)" styleClass="fulfillment-text"/>
                                        <Label text="Delivered 1 hour ago" styleClass="fulfillment-time"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸ¥" styleClass="fulfillment-icon"/>
                                    <VBox>
                                        <Label text="General Hospital - B+ (1 unit)" styleClass="fulfillment-text"/>
                                        <Label text="Delivered 2 hours ago" styleClass="fulfillment-time"/>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </VBox>
                        
                        <VBox styleClass="notification-card" HBox.hgrow="ALWAYS">
                            <Label text="ðŸ”” Notifications" styleClass="notification-title"/>
                            <VBox spacing="8">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="âš ï¸" styleClass="notification-icon warning"/>
                                    <VBox>
                                        <Label text="Low O- stock alert" styleClass="notification-text"/>
                                        <Label text="Only 12 units remaining" styleClass="notification-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸ’¬" styleClass="notification-icon info"/>
                                    <VBox>
                                        <Label text="New hospital registered" styleClass="notification-text"/>
                                        <Label text="Sunshine Medical Center" styleClass="notification-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸ”" styleClass="notification-icon success"/>
                                    <VBox>
                                        <Label text="Cross-match completed" styleClass="notification-text"/>
                                        <Label text="Patient ID: P-2024-0891" styleClass="notification-details"/>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </VBox>
                    </HBox>
                </VBox>
            </ScrollPane>
            
            <!-- Blood Inventory Management Interface -->
            <ScrollPane fx:id="inventoryView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ“¦ Blood Inventory Management" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ©¸ Add Donation" styleClass="modern-button"/>
                        <Button text="ðŸ“„ Generate Report" styleClass="modern-button secondary"/>
                        <Button text="âš ï¸ Alerts" styleClass="alert-button"/>
                    </HBox>
                    
                    <!-- Inventory Statistics -->
                    <GridPane hgap="20" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="20"/>
                            <ColumnConstraints percentWidth="20"/>
                            <ColumnConstraints percentWidth="20"/>
                            <ColumnConstraints percentWidth="20"/>
                            <ColumnConstraints percentWidth="20"/>
                        </columnConstraints>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label text="ðŸ©¸ Total Units" styleClass="stat-title"/>
                            <Label fx:id="totalUnitsLabel" text="3,456" styleClass="stat-number"/>
                            <Label text="All blood types" styleClass="stat-details"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="ðŸŸ¢ Available" styleClass="stat-title"/>
                            <Label fx:id="availableUnitsLabel" text="2,987" styleClass="stat-number"/>
                            <Label text="Ready for use" styleClass="stat-change-positive"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <Label text="âš ï¸ Expiring Soon" styleClass="stat-title"/>
                            <Label fx:id="expiringSoonLabel" text="47" styleClass="stat-number"/>
                            <Label text="Within 5 days" styleClass="stat-change-negative"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <Label text="ðŸŸ¡ Low Stock" styleClass="stat-title"/>
                            <Label fx:id="lowStockLabel" text="3" styleClass="stat-number"/>
                            <Label text="Types below threshold" styleClass="stat-change-negative"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="4" GridPane.rowIndex="0">
                            <Label text="ðŸ”„ Daily Usage" styleClass="stat-title"/>
                            <Label fx:id="dailyUsageLabel" text="89" styleClass="stat-number"/>
                            <Label text="Units dispensed today" styleClass="stat-change-neutral"/>
                        </VBox>
                    </GridPane>
                    
                    <!-- Blood Type Inventory Chart -->
                    <VBox styleClass="inventory-chart-section">
                        <Label text="ðŸ“Š Blood Type Inventory Levels" styleClass="section-title"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="12.5"/>
                                <ColumnConstraints percentWidth="12.5"/>
                                <ColumnConstraints percentWidth="12.5"/>
                                <ColumnConstraints percentWidth="12.5"/>
                                <ColumnConstraints percentWidth="12.5"/>
                                <ColumnConstraints percentWidth="12.5"/>
                                <ColumnConstraints percentWidth="12.5"/>
                                <ColumnConstraints percentWidth="12.5"/>
                            </columnConstraints>
                            
                            <VBox styleClass="blood-type-card high-stock" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="O+" styleClass="blood-type-label"/>
                                <Label text="847" styleClass="blood-type-count"/>
                                <ProgressBar progress="0.85" styleClass="stock-progress high"/>
                                <Label text="85% Full" styleClass="stock-percentage"/>
                            </VBox>
                            
                            <VBox styleClass="blood-type-card high-stock" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="A+" styleClass="blood-type-label"/>
                                <Label text="623" styleClass="blood-type-count"/>
                                <ProgressBar progress="0.78" styleClass="stock-progress high"/>
                                <Label text="78% Full" styleClass="stock-percentage"/>
                            </VBox>
                            
                            <VBox styleClass="blood-type-card medium-stock" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="B+" styleClass="blood-type-label"/>
                                <Label text="234" styleClass="blood-type-count"/>
                                <ProgressBar progress="0.45" styleClass="stock-progress medium"/>
                                <Label text="45% Full" styleClass="stock-percentage"/>
                            </VBox>
                            
                            <VBox styleClass="blood-type-card low-stock" GridPane.columnIndex="3" GridPane.rowIndex="0">
                                <Label text="O-" styleClass="blood-type-label"/>
                                <Label text="67" styleClass="blood-type-count"/>
                                <ProgressBar progress="0.12" styleClass="stock-progress low"/>
                                <Label text="12% Full" styleClass="stock-percentage"/>
                            </VBox>
                            
                            <VBox styleClass="blood-type-card medium-stock" GridPane.columnIndex="4" GridPane.rowIndex="0">
                                <Label text="A-" styleClass="blood-type-label"/>
                                <Label text="156" styleClass="blood-type-count"/>
                                <ProgressBar progress="0.34" styleClass="stock-progress medium"/>
                                <Label text="34% Full" styleClass="stock-percentage"/>
                            </VBox>
                            
                            <VBox styleClass="blood-type-card high-stock" GridPane.columnIndex="5" GridPane.rowIndex="0">
                                <Label text="AB+" styleClass="blood-type-label"/>
                                <Label text="189" styleClass="blood-type-count"/>
                                <ProgressBar progress="0.67" styleClass="stock-progress high"/>
                                <Label text="67% Full" styleClass="stock-percentage"/>
                            </VBox>
                            
                            <VBox styleClass="blood-type-card low-stock" GridPane.columnIndex="6" GridPane.rowIndex="0">
                                <Label text="B-" styleClass="blood-type-label"/>
                                <Label text="45" styleClass="blood-type-count"/>
                                <ProgressBar progress="0.18" styleClass="stock-progress low"/>
                                <Label text="18% Full" styleClass="stock-percentage"/>
                            </VBox>
                            
                            <VBox styleClass="blood-type-card critical-stock" GridPane.columnIndex="7" GridPane.rowIndex="0">
                                <Label text="AB-" styleClass="blood-type-label"/>
                                <Label text="23" styleClass="blood-type-count"/>
                                <ProgressBar progress="0.08" styleClass="stock-progress critical"/>
                                <Label text="8% Full" styleClass="stock-percentage"/>
                            </VBox>
                        </GridPane>
                    </VBox>
                    
                    <!-- Inventory Table -->
                    <VBox styleClass="table-container">
                        <Label text="Blood Unit Details" styleClass="table-title"/>
                        <TableView fx:id="inventoryTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="unitIdColumn" text="Unit ID" prefWidth="100"/>
                                <TableColumn fx:id="bloodTypeColumn" text="Blood Type" prefWidth="100"/>
                                <TableColumn fx:id="donorIdColumn" text="Donor ID" prefWidth="100"/>
                                <TableColumn fx:id="collectionDateColumn" text="Collection Date" prefWidth="120"/>
                                <TableColumn fx:id="expiryDateColumn" text="Expiry Date" prefWidth="120"/>
                                <TableColumn fx:id="statusColumn" text="Status" prefWidth="100"/>
                                <TableColumn fx:id="locationColumn" text="Storage Location" prefWidth="150"/>
                                <TableColumn fx:id="testingStatusColumn" text="Testing" prefWidth="100"/>
                                <TableColumn fx:id="actionsColumn" text="Actions" prefWidth="120"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Alerts and Notifications -->
                    <HBox spacing="20">
                        <VBox styleClass="alert-panel critical" HBox.hgrow="ALWAYS">
                            <Label text="ðŸš¨ Critical Alerts" styleClass="alert-panel-title"/>
                            <VBox spacing="8">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸ”´" styleClass="alert-icon"/>
                                    <VBox>
                                        <Label text="AB- Blood Critical Low" styleClass="alert-text"/>
                                        <Label text="Only 23 units remaining" styleClass="alert-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸ”´" styleClass="alert-icon"/>
                                    <VBox>
                                        <Label text="O- Below Emergency Level" styleClass="alert-text"/>
                                        <Label text="67 units - Emergency threshold: 100" styleClass="alert-details"/>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </VBox>
                        
                        <VBox styleClass="alert-panel warning" HBox.hgrow="ALWAYS">
                            <Label text="âš ï¸ Expiry Warnings" styleClass="alert-panel-title"/>
                            <VBox spacing="8">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸŸ¡" styleClass="alert-icon"/>
                                    <VBox>
                                        <Label text="47 units expiring in 5 days" styleClass="alert-text"/>
                                        <Label text="Mixed blood types - Action needed" styleClass="alert-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="ðŸŸ¡" styleClass="alert-icon"/>
                                    <VBox>
                                        <Label text="Temperature alert - Storage B" styleClass="alert-text"/>
                                        <Label text="Temperature: 6.2Â°C (Normal: 2-6Â°C)" styleClass="alert-details"/>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </VBox>
                    </HBox>
                </VBox>
            </ScrollPane>
            
            <!-- Campaign Management Interface -->
            <ScrollPane fx:id="campaignsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ“… Campaign Management" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="âž• New Campaign" styleClass="modern-button"/>
                        <Button text="ðŸ“ˆ Analytics" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Campaign Statistics -->
                    <GridPane hgap="20" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                        </columnConstraints>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label text="ðŸŽ¯ Active Campaigns" styleClass="stat-title"/>
                            <Label text="8" styleClass="stat-number"/>
                            <Label text="3 urgent" styleClass="stat-change-negative"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="ðŸ‘¥ Total Participants" styleClass="stat-title"/>
                            <Label text="2,847" styleClass="stat-number"/>
                            <Label text="+156 this week" styleClass="stat-change-positive"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <Label text="ðŸ©¸ Units Collected" styleClass="stat-title"/>
                            <Label text="1,523" styleClass="stat-number"/>
                            <Label text="98% of target" styleClass="stat-change-positive"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <Label text="ðŸ“… Scheduled Events" styleClass="stat-title"/>
                            <Label text="12" styleClass="stat-number"/>
                            <Label text="Next 30 days" styleClass="stat-change-neutral"/>
                        </VBox>
                    </GridPane>
                    
                    <!-- Active Campaigns List -->
                    <VBox styleClass="table-container">
                        <Label text="Active Blood Donation Campaigns" styleClass="table-title"/>
                        <TableView fx:id="campaignsTable" styleClass="modern-table">
                            <columns>
                                <TableColumn text="Campaign Name" prefWidth="200"/>
                                <TableColumn text="Location" prefWidth="150"/>
                                <TableColumn text="Start Date" prefWidth="120"/>
                                <TableColumn text="End Date" prefWidth="120"/>
                                <TableColumn text="Target" prefWidth="100"/>
                                <TableColumn text="Collected" prefWidth="100"/>
                                <TableColumn text="Progress" prefWidth="120"/>
                                <TableColumn text="Status" prefWidth="100"/>
                                <TableColumn text="Actions" prefWidth="120"/>
                            </columns>
                        </TableView>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Rewards & Leaderboard Interface -->
            <ScrollPane fx:id="rewardsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="Rewards and Leaderboard" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ… Award Points" styleClass="modern-button"/>
                        <Button text="ðŸŽ Manage Rewards" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Leaderboard -->
                    <VBox styleClass="leaderboard-section">
                        <Label text="ðŸ† Top Donors This Month" styleClass="section-title"/>
                        <VBox spacing="10">
                            <HBox styleClass="leaderboard-item gold" alignment="CENTER_LEFT" spacing="15">
                                <Label text="ðŸ¥‡" styleClass="leaderboard-medal"/>
                                <Label text="John Smith" styleClass="leaderboard-name"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label text="15 Donations" styleClass="leaderboard-count"/>
                                <Label text="1,500 Points" styleClass="leaderboard-points"/>
                            </HBox>
                            <HBox styleClass="leaderboard-item silver" alignment="CENTER_LEFT" spacing="15">
                                <Label text="ðŸ¥ˆ" styleClass="leaderboard-medal"/>
                                <Label text="Sarah Johnson" styleClass="leaderboard-name"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label text="12 Donations" styleClass="leaderboard-count"/>
                                <Label text="1,250 Points" styleClass="leaderboard-points"/>
                            </HBox>
                            <HBox styleClass="leaderboard-item bronze" alignment="CENTER_LEFT" spacing="15">
                                <Label text="ðŸ¥‰" styleClass="leaderboard-medal"/>
                                <Label text="Mike Wilson" styleClass="leaderboard-name"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label text="10 Donations" styleClass="leaderboard-count"/>
                                <Label text="1,100 Points" styleClass="leaderboard-points"/>
                            </HBox>
                        </VBox>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Statistics & Reports Interface -->
            <ScrollPane fx:id="statisticsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ“ˆ Statistics and Reports" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ“„ Generate Report" styleClass="modern-button"/>
                        <Button text="ðŸ“¥ Export Data" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Statistics Overview -->
                    <GridPane hgap="20" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                        </columnConstraints>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label text="ðŸ“Š Total Collections" styleClass="stat-title"/>
                            <Label text="45,678" styleClass="stat-number"/>
                            <Label text="All time" styleClass="stat-details"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="ðŸ¥ Hospitals Served" styleClass="stat-title"/>
                            <Label text="89" styleClass="stat-number"/>
                            <Label text="Active partnerships" styleClass="stat-details"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <Label text="â¤ï¸ Lives Saved" styleClass="stat-title"/>
                            <Label text="12,456" styleClass="stat-number"/>
                            <Label text="Estimated impact" styleClass="stat-details"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <Label text="ðŸ”„ Success Rate" styleClass="stat-title"/>
                            <Label text="98.7%" styleClass="stat-number"/>
                            <Label text="Request fulfillment" styleClass="stat-details"/>
                        </VBox>
                    </GridPane>
                </VBox>
            </ScrollPane>
            
            <!-- Emergency Response Interface -->
            <ScrollPane fx:id="emergencyView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸš¨ Emergency Response" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸš¨ Activate Protocol" styleClass="emergency-button"/>
                        <Button text="ðŸ“ž Contact Network" styleClass="modern-button"/>
                    </HBox>
                    
                    <!-- Emergency Status Dashboard -->
                    <GridPane hgap="20" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                        </columnConstraints>
                        
                        <VBox styleClass="stat-card emergency" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label text="ðŸš¨ Active Emergencies" styleClass="stat-title"/>
                            <Label text="2" styleClass="stat-number"/>
                            <Label text="Immediate response" styleClass="stat-change-negative"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="ðŸš‘ Response Time" styleClass="stat-title"/>
                            <Label text="12 min" styleClass="stat-number"/>
                            <Label text="Average today" styleClass="stat-change-positive"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <Label text="ðŸ¥ Network Status" styleClass="stat-title"/>
                            <Label text="Online" styleClass="stat-number"/>
                            <Label text="47/47 hospitals" styleClass="stat-change-positive"/>
                        </VBox>
                        
                        <VBox styleClass="stat-card" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <Label text="ðŸšš Mobile Units" styleClass="stat-title"/>
                            <Label text="8" styleClass="stat-number"/>
                            <Label text="Available for dispatch" styleClass="stat-change-positive"/>
                        </VBox>
                    </GridPane>
                </VBox>
            </ScrollPane>
            
            <!-- AI Blood Prediction Interface -->
            <ScrollPane fx:id="aiPredictionView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="25" styleClass="content-padding">
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ”® AI Blood Prediction" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ”„ Refresh Predictions" styleClass="modern-button"/>
                        <Button text="ðŸ¤– Train Model" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- AI Prediction Dashboard -->
                    <GridPane hgap="20" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                        </columnConstraints>
                        
                        <VBox styleClass="ai-card prediction" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label text="ðŸ“ˆ Demand Forecast" styleClass="ai-title"/>
                            <Label text="Next 7 Days" styleClass="ai-number"/>
                            <Label text="High: O+, A+" styleClass="ai-details high"/>
                            <Label text="Low: AB-, B-" styleClass="ai-details low"/>
                        </VBox>
                        
                        <VBox styleClass="ai-card accuracy" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="ðŸŽ¯ Model Accuracy" styleClass="ai-title"/>
                            <Label text="94.7%" styleClass="ai-number"/>
                            <Label text="Last updated: 2h ago" styleClass="ai-details"/>
                        </VBox>
                        
                        <VBox styleClass="ai-card prediction" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <Label text="ðŸ’Š Shortage Risk" styleClass="ai-title"/>
                            <Label text="Medium" styleClass="ai-number warning"/>
                            <Label text="O- within 3 days" styleClass="ai-details"/>
                        </VBox>
                        
                        <VBox styleClass="ai-card optimization" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <Label text="âš™ï¸ Optimization" styleClass="ai-title"/>
                            <Label text="87%" styleClass="ai-number"/>
                            <Label text="Resource efficiency" styleClass="ai-details"/>
                        </VBox>
                    </GridPane>
                    
                    <!-- AI Recommendations -->
                    <VBox styleClass="ai-recommendations">
                        <Label text="ðŸ¤– AI Recommendations" styleClass="section-title"/>
                        <VBox spacing="12">
                            <HBox styleClass="recommendation-card priority-high" spacing="15">
                                <Label text="ðŸŸ¥" styleClass="priority-indicator"/>
                                <VBox HBox.hgrow="ALWAYS">
                                    <Label text="Schedule O- Blood Drive" styleClass="recommendation-title"/>
                                    <Label text="Predicted shortage in 3 days. Recommend emergency campaign." styleClass="recommendation-description"/>
                                </VBox>
                                <Button text="Act Now" styleClass="recommendation-action high"/>
                            </HBox>
                            
                            <HBox styleClass="recommendation-card priority-medium" spacing="15">
                                <Label text="ðŸŸ¡" styleClass="priority-indicator"/>
                                <VBox HBox.hgrow="ALWAYS">
                                    <Label text="Contact A+ Donors" styleClass="recommendation-title"/>
                                    <Label text="High demand predicted. Contact top 50 A+ donors for appointments." styleClass="recommendation-description"/>
                                </VBox>
                                <Button text="Contact" styleClass="recommendation-action medium"/>
                            </HBox>
                            
                            <HBox styleClass="recommendation-card priority-low" spacing="15">
                                <Label text="ðŸŸ¢" styleClass="priority-indicator"/>
                                <VBox HBox.hgrow="ALWAYS">
                                    <Label text="Optimize AB+ Storage" styleClass="recommendation-title"/>
                                    <Label text="Surplus predicted. Consider redistribution to partner facilities." styleClass="recommendation-description"/>
                                </VBox>
                                <Button text="Plan" styleClass="recommendation-action low"/>
                            </HBox>
                        </VBox>
                    </VBox>
                </VBox>
            </ScrollPane>
            

        </StackPane>
    </center>
</BorderPane>