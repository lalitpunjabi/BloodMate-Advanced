<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.bloodmate.desktop.controller.MainController" 
            styleClass="main-container">

    <!-- Left Sidebar Navigation -->
    <left>
        <VBox styleClass="sidebar">
            <!-- Logo and Header -->
            <VBox styleClass="sidebar-header">
                <!-- Clickable Logo Button -->
                <Button fx:id="logoBtn" styleClass="logo-button" onAction="#showDashboard" maxWidth="Infinity">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <!-- Blood Drop Icon -->
                            <VBox styleClass="blood-drop-logo" alignment="CENTER">
                                <Label text="ðŸ©¸" styleClass="blood-drop-icon"/>
                            </VBox>
                            <!-- Logo Text -->
                            <VBox alignment="CENTER_LEFT">
                                <Label text="BloodMate" styleClass="logo-title"/>
                                <Label text="Blood Bank System" styleClass="logo-subtitle"/>
                            </VBox>
                        </HBox>
                    </graphic>
                </Button>
                <Button fx:id="themeToggleBtn" text="ðŸŒ™ Dark Mode" styleClass="theme-toggle" 
                        onAction="#toggleTheme" maxWidth="Infinity"/>
            </VBox>
            
            <!-- Scrollable Navigation Menu -->
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" styleClass="sidebar-scroll">
                <VBox spacing="2">
                    <Button fx:id="dashboardBtn" text="ðŸ“Š Dashboard" styleClass="nav-button,active" 
                            onAction="#showDashboard" maxWidth="Infinity"/>
                    <Button fx:id="donorsBtn" text="ðŸ‘¥ Donor Management" styleClass="nav-button" 
                            onAction="#showDonors" maxWidth="Infinity"/>
                    <Button fx:id="recipientsBtn" text="ðŸ¥ Recipients" styleClass="nav-button" 
                            onAction="#showRecipients" maxWidth="Infinity"/>
                    <Button fx:id="inventoryBtn" text="ðŸ“¦ Blood Inventory" styleClass="nav-button" 
                            onAction="#showInventory" maxWidth="Infinity"/>
                    <Button fx:id="campaignsBtn" text="ðŸ“… Campaigns" styleClass="nav-button" 
                            onAction="#showCampaigns" maxWidth="Infinity"/>
                    <Button fx:id="rewardsBtn" text="ðŸ† Rewards &amp; Leaderboard" styleClass="nav-button" 
                            onAction="#showRewards" maxWidth="Infinity"/>
                    <Button fx:id="statisticsBtn" text="ðŸ“ˆ Statistics &amp; Reports" styleClass="nav-button" 
                            onAction="#showStatistics" maxWidth="Infinity"/>
                    <Button fx:id="emergencyBtn" text="ðŸš¨ Emergency Response" styleClass="nav-button" 
                            onAction="#showEmergency" maxWidth="Infinity"/>
                    <Button fx:id="voiceCommandsBtn" text="ðŸŽ¤ Voice Commands" styleClass="nav-button" 
                            onAction="#showVoiceCommands" maxWidth="Infinity"/>
                    
                    <!-- Spacer -->
                    <Region VBox.vgrow="ALWAYS"/>
                    
                    <Button fx:id="settingsBtn" text="âš™ï¸ Settings" styleClass="nav-button" 
                            onAction="#showSettings" maxWidth="Infinity"/>
                    <Button fx:id="logoutBtn" text="ðŸšª Logout" styleClass="nav-button" 
                            onAction="#logout" maxWidth="Infinity"/>
                </VBox>
            </ScrollPane>
        </VBox>
    </left>
    
    <!-- Main Content Area -->
    <center>
        <StackPane fx:id="contentArea" styleClass="content-area">
            <!-- Dashboard Content (Default View) -->
            <ScrollPane fx:id="dashboardView" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ“Š Dashboard Overview" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Label fx:id="currentDateTime" styleClass="section-title"/>
                        <Button text="ðŸ”„ Refresh" styleClass="modern-button" onAction="#refreshDashboard"/>
                    </HBox>
                    
                    <!-- Key Statistics Cards -->
                    <GridPane hgap="20" vgap="20">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                        </columnConstraints>
                        
                        <!-- Total Donors Card -->
                        <VBox styleClass="stat-card" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label text="ðŸ‘¥ Total Donors" styleClass="stat-title"/>
                            <Label fx:id="totalDonorsLabel" text="1,247" styleClass="stat-number"/>
                            <Label text="+24 this month" styleClass="stat-change-positive"/>
                        </VBox>
                        
                        <!-- Available Blood Units Card -->
                        <VBox styleClass="stat-card" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="ðŸ©¸ Available Units" styleClass="stat-title"/>
                            <Label fx:id="bloodUnitsLabel" text="3,456" styleClass="stat-number"/>
                            <Label text="89% capacity" styleClass="stat-change-neutral"/>
                        </VBox>
                        
                        <!-- Pending Requests Card -->
                        <VBox styleClass="stat-card" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <Label text="ðŸ“‹ Pending Requests" styleClass="stat-title"/>
                            <Label fx:id="pendingRequestsLabel" text="23" styleClass="stat-number"/>
                            <Label text="Urgent: 3" styleClass="stat-change-negative"/>
                        </VBox>
                        
                        <!-- Emergency Alerts Card -->
                        <VBox styleClass="stat-card" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <Label text="ðŸš¨ Emergency Alerts" styleClass="stat-title"/>
                            <Label fx:id="emergencyAlertsLabel" text="2" styleClass="stat-number"/>
                            <Label text="O- Critical" styleClass="stat-change-negative"/>
                        </VBox>
                    </GridPane>
                    
                    <!-- Charts and Analytics Section -->
                    <HBox spacing="20">
                        <!-- Blood Type Distribution Chart -->
                        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS">
                            <Label text="ðŸ©¸ Blood Type Distribution" styleClass="card-title"/>
                            <VBox spacing="10">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="O+:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="opositiveProgress" progress="0.38" styleClass="blood-progress"/>
                                    <Label text="38%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="A+:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="apositiveProgress" progress="0.34" styleClass="blood-progress"/>
                                    <Label text="34%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="B+:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="bpositiveProgress" progress="0.09" styleClass="blood-progress"/>
                                    <Label text="9%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="O-:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="onegativeProgress" progress="0.07" styleClass="blood-progress critical"/>
                                    <Label text="7%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="A-:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="anegativeProgress" progress="0.06" styleClass="blood-progress"/>
                                    <Label text="6%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="AB+:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="abpositiveProgress" progress="0.04" styleClass="blood-progress"/>
                                    <Label text="4%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="B-:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="bnegativeProgress" progress="0.02" styleClass="blood-progress"/>
                                    <Label text="2%" styleClass="blood-percentage"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="AB-:" styleClass="blood-type-label"/>
                                    <ProgressBar fx:id="abnegativeProgress" progress="0.01" styleClass="blood-progress"/>
                                    <Label text="1%" styleClass="blood-percentage"/>
                                </HBox>
                            </VBox>
                        </VBox>
                        
                        <!-- Recent Activity Feed -->
                        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS">
                            <Label text="ðŸ“ˆ Recent Activity" styleClass="card-title"/>
                            <VBox spacing="8">
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="activity-item">
                                    <Label text="ðŸ©¸" styleClass="activity-icon"/>
                                    <VBox>
                                        <Label text="New donation from John Doe" styleClass="activity-text"/>
                                        <Label text="A+ â€¢ 450ml â€¢ 2 minutes ago" styleClass="activity-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="activity-item">
                                    <Label text="ðŸ¥" styleClass="activity-icon"/>
                                    <VBox>
                                        <Label text="Blood request from City Hospital" styleClass="activity-text"/>
                                        <Label text="O- â€¢ 2 units â€¢ 15 minutes ago" styleClass="activity-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="activity-item">
                                    <Label text="ðŸ‘¤" styleClass="activity-icon"/>
                                    <VBox>
                                        <Label text="New donor registration" styleClass="activity-text"/>
                                        <Label text="Sarah Smith â€¢ B+ â€¢ 1 hour ago" styleClass="activity-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="activity-item">
                                    <Label text="âš ï¸" styleClass="activity-icon"/>
                                    <VBox>
                                        <Label text="Low stock alert" styleClass="activity-text"/>
                                        <Label text="AB- â€¢ Below 50 units â€¢ 2 hours ago" styleClass="activity-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="activity-item">
                                    <Label text="ðŸš›" styleClass="activity-icon"/>
                                    <VBox>
                                        <Label text="Blood delivery completed" styleClass="activity-text"/>
                                        <Label text="Metro Hospital â€¢ 5 units â€¢ 3 hours ago" styleClass="activity-details"/>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </VBox>
                    </HBox>
                    
                    <!-- Quick Actions and Alerts -->
                    <HBox spacing="20">
                        <!-- Quick Actions -->
                        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS">
                            <Label text="âš¡ Quick Actions" styleClass="card-title"/>
                            <GridPane hgap="10" vgap="10">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="50"/>
                                    <ColumnConstraints percentWidth="50"/>
                                </columnConstraints>
                                <Button text="ðŸ‘¥ Register Donor" styleClass="action-button" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                <Button text="ðŸ©¸ Record Donation" styleClass="action-button" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                                <Button text="ðŸ¥ Blood Request" styleClass="action-button" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                <Button text="ðŸ“Š Generate Report" styleClass="action-button" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                            </GridPane>
                        </VBox>
                        
                        <!-- Critical Alerts -->
                        <VBox styleClass="dashboard-card alert-card" HBox.hgrow="ALWAYS">
                            <Label text="ðŸš¨ Critical Alerts" styleClass="card-title"/>
                            <VBox spacing="8">
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="alert-item critical">
                                    <Label text="ðŸ”´" styleClass="alert-icon"/>
                                    <VBox>
                                        <Label text="O- Blood Type Critical" styleClass="alert-text"/>
                                        <Label text="Only 12 units remaining" styleClass="alert-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="alert-item warning">
                                    <Label text="ðŸŸ¡" styleClass="alert-icon"/>
                                    <VBox>
                                        <Label text="AB- Low Stock Warning" styleClass="alert-text"/>
                                        <Label text="47 units remaining" styleClass="alert-details"/>
                                    </VBox>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="alert-item info">
                                    <Label text="ðŸ”µ" styleClass="alert-icon"/>
                                    <VBox>
                                        <Label text="Scheduled Maintenance" styleClass="alert-text"/>
                                        <Label text="Storage Unit B â€¢ Tomorrow 2 AM" styleClass="alert-details"/>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </VBox>
                    </HBox>
                    
                    <!-- AI Insights and Predictions -->
                    <VBox styleClass="dashboard-card ai-card">
                        <Label text="ðŸ¤– AI Insights and Predictions" styleClass="card-title"/>
                        <HBox spacing="20">
                            <VBox HBox.hgrow="ALWAYS">
                                <Label text="ðŸ“ˆ Demand Forecast (Next 7 Days)" styleClass="ai-section-title"/>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="High Demand:" styleClass="forecast-label"/>
                                    <Label text="O+, A+" styleClass="forecast-value high"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="Medium Demand:" styleClass="forecast-label"/>
                                    <Label text="B+, O-" styleClass="forecast-value medium"/>
                                </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="Low Demand:" styleClass="forecast-label"/>
                                    <Label text="AB+, AB-, B-" styleClass="forecast-value low"/>
                                </HBox>
                            </VBox>
                            <VBox HBox.hgrow="ALWAYS">
                                <Label text="ðŸŽ¯ Recommended Actions" styleClass="ai-section-title"/>
                                <VBox spacing="5">
                                    <Label text="â€¢ Schedule O- donor campaign this week" styleClass="recommendation"/>
                                    <Label text="â€¢ Contact regular A+ donors for appointment" styleClass="recommendation"/>
                                    <Label text="â€¢ Prepare emergency protocol for O- shortage" styleClass="recommendation"/>
                                    <Label text="â€¢ Optimize storage rotation for B+ units" styleClass="recommendation"/>
                                </VBox>
                            </VBox>
                        </HBox>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Donor Management Interface -->
            <ScrollPane fx:id="donorsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header with Actions -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ‘¥ Donor Management" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ” Search" styleClass="modern-button secondary"/>
                        <Button text="âž• Register New Donor" styleClass="modern-button" onAction="#addNewDonor"/>
                        <Button text="ðŸ“Š Export Data" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Search and Filter Section -->
                    <HBox spacing="15" styleClass="filter-section">
                        <VBox spacing="5">
                            <Label text="Search by Name/ID" styleClass="filter-label"/>
                            <TextField fx:id="donorSearchField" promptText="Enter donor name or ID..." styleClass="search-field"/>
                        </VBox>
                        <VBox spacing="5">
                            <Label text="Blood Type" styleClass="filter-label"/>
                            <ComboBox fx:id="bloodTypeFilter" promptText="All Types" styleClass="filter-combo" />
                        </VBox>
                        <VBox spacing="5">
                            <Label text="Status" styleClass="filter-label"/>
                            <ComboBox fx:id="donorStatusFilter" promptText="All Status" styleClass="filter-combo" />
                        </VBox>
                        <VBox spacing="5">
                            <Label text="Location" styleClass="filter-label"/>
                            <ComboBox fx:id="locationFilter" promptText="All Locations" styleClass="filter-combo" />
                        </VBox>
                        <VBox alignment="BOTTOM_CENTER">
                            <Button text="ðŸ”„ Reset" styleClass="filter-reset-button"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Donor Statistics Summary -->
                    <HBox spacing="20">
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Total Donors" styleClass="mini-stat-title"/>
                            <Label fx:id="totalDonorsCount" text="1,247" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Active This Month" styleClass="mini-stat-title"/>
                            <Label fx:id="activeDonorsCount" text="324" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="New Registrations" styleClass="mini-stat-title"/>
                            <Label fx:id="newDonorsCount" text="42" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Eligible to Donate" styleClass="mini-stat-title"/>
                            <Label fx:id="eligibleDonorsCount" text="986" styleClass="mini-stat-number"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Donors Table -->
                    <VBox styleClass="table-container">
                        <Label text="Donor Directory" styleClass="table-title"/>
                        <TableView fx:id="donorsTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="donorIdColumn" text="ID" prefWidth="80"/>
                                <TableColumn fx:id="donorNameColumn" text="Full Name" prefWidth="180"/>
                                <TableColumn fx:id="donorBloodTypeColumn" text="Blood Type" prefWidth="100"/>
                                <TableColumn fx:id="donorAgeColumn" text="Age" prefWidth="80"/>
                                <TableColumn fx:id="donorPhoneColumn" text="Phone" prefWidth="130"/>
                                <TableColumn fx:id="donorEmailColumn" text="Email" prefWidth="200"/>
                                <TableColumn fx:id="donorLocationColumn" text="Location" prefWidth="120"/>
                                <TableColumn fx:id="donorLastDonationColumn" text="Last Donation" prefWidth="120"/>
                                <TableColumn fx:id="donorStatusColumn" text="Status" prefWidth="100"/>
                                <TableColumn fx:id="donorActionsColumn" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Quick Registration Form -->
                    <VBox styleClass="form-container">
                        <Label text="âš¡ Quick Donor Registration" styleClass="form-title"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                            </columnConstraints>
                            
                            <!-- Row 1 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="First Name *" styleClass="form-label"/>
                                <TextField fx:id="firstNameField" promptText="Enter first name" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Last Name *" styleClass="form-label"/>
                                <TextField fx:id="lastNameField" promptText="Enter last name" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="Blood Type *" styleClass="form-label"/>
                                <ComboBox fx:id="bloodTypeField" promptText="Select blood type" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="0">
                                <Label text="Date of Birth *" styleClass="form-label"/>
                                <DatePicker fx:id="dobField" promptText="Select date" styleClass="form-datepicker"/>
                            </VBox>
                            
                            <!-- Row 2 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="Phone Number *" styleClass="form-label"/>
                                <TextField fx:id="phoneField" promptText="Enter phone number" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="Email Address" styleClass="form-label"/>
                                <TextField fx:id="emailField" promptText="Enter email address" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="1">
                                <Label text="Gender" styleClass="form-label"/>
                                <ComboBox fx:id="genderField" promptText="Select gender" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="1">
                                <Label text="Location" styleClass="form-label"/>
                                <TextField fx:id="locationField" promptText="Enter city/state" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Row 3 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="2">
                                <Label text="Address" styleClass="form-label"/>
                                <TextField fx:id="addressField" promptText="Enter full address" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="2">
                                <Label text="Last Donation Date" styleClass="form-label"/>
                                <DatePicker fx:id="lastDonationField" promptText="Select date" styleClass="form-datepicker"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="2">
                                <Label text="Donation Frequency" styleClass="form-label"/>
                                <ComboBox fx:id="frequencyField" promptText="Select frequency" styleClass="form-combo" />
                            </VBox>
                            
                            <!-- Submit Button -->
                            <HBox alignment="CENTER_RIGHT" GridPane.columnIndex="0" GridPane.rowIndex="3" GridPane.columnSpan="4">
                                <Button text="ðŸ’¾ Save Donor" styleClass="modern-button" onAction="#addNewDonor"/>
                            </HBox>
                        </GridPane>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Recipients Interface -->
            <ScrollPane fx:id="recipientsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header with Actions -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ¥ Recipient Management" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ” Search" styleClass="modern-button secondary"/>
                        <Button text="âž• Add New Request" styleClass="modern-button"/>
                        <Button text="ðŸ“Š Export Data" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Search and Filter Section -->
                    <HBox spacing="15" styleClass="filter-section">
                        <VBox spacing="5">
                            <Label text="Search by Name/Hospital" styleClass="filter-label"/>
                            <TextField fx:id="recipientSearchField" promptText="Enter recipient name or hospital..." styleClass="search-field"/>
                        </VBox>
                        <VBox spacing="5">
                            <Label text="Blood Type Required" styleClass="filter-label"/>
                            <ComboBox fx:id="reqBloodTypeFilter" promptText="All Types" styleClass="filter-combo" />
                        </VBox>
                        <VBox spacing="5">
                            <Label text="Urgency" styleClass="filter-label"/>
                            <ComboBox fx:id="urgencyFilter" promptText="All Levels" styleClass="filter-combo" />
                        </VBox>
                        <VBox spacing="5">
                            <Label text="Status" styleClass="filter-label"/>
                            <ComboBox fx:id="requestStatusFilter" promptText="All Status" styleClass="filter-combo" />
                        </VBox>
                        <VBox alignment="BOTTOM_CENTER">
                            <Button text="ðŸ”„ Reset" styleClass="filter-reset-button"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Recipient Statistics Summary -->
                    <HBox spacing="20">
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Active Requests" styleClass="mini-stat-title"/>
                            <Label fx:id="activeRequestsCount" text="23" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Urgent Requests" styleClass="mini-stat-title"/>
                            <Label fx:id="urgentRequestsCount" text="3" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Fulfilled Today" styleClass="mini-stat-title"/>
                            <Label fx:id="fulfilledTodayCount" text="7" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Pending Allocation" styleClass="mini-stat-title"/>
                            <Label fx:id="pendingAllocationCount" text="16" styleClass="mini-stat-number"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Recipients Table -->
                    <VBox styleClass="table-container">
                        <Label text="Blood Requests" styleClass="table-title"/>
                        <TableView fx:id="recipientsTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="requestIdColumn" text="Request ID" prefWidth="100"/>
                                <TableColumn fx:id="recipientNameColumn" text="Recipient/Hospital" prefWidth="180"/>
                                <TableColumn fx:id="reqBloodTypeColumn" text="Blood Type" prefWidth="100"/>
                                <TableColumn fx:id="unitsRequiredColumn" text="Units" prefWidth="80"/>
                                <TableColumn fx:id="requestDateColumn" text="Request Date" prefWidth="120"/>
                                <TableColumn fx:id="urgencyColumn" text="Urgency" prefWidth="100"/>
                                <TableColumn fx:id="statusColumn" text="Status" prefWidth="120"/>
                                <TableColumn fx:id="actionsColumn" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Quick Request Form -->
                    <VBox styleClass="form-container">
                        <Label text="âš¡ Quick Blood Request" styleClass="form-title"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="33.33"/>
                                <ColumnConstraints percentWidth="33.33"/>
                                <ColumnConstraints percentWidth="33.33"/>
                            </columnConstraints>
                            
                            <!-- Row 1 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="Recipient Name *" styleClass="form-label"/>
                                <TextField fx:id="recipientNameField" promptText="Enter recipient name" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Hospital/Clinic *" styleClass="form-label"/>
                                <TextField fx:id="hospitalField" promptText="Enter hospital name" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="Blood Type Required *" styleClass="form-label"/>
                                <ComboBox fx:id="reqBloodTypeField" promptText="Select blood type" styleClass="form-combo" />
                            </VBox>
                            
                            <!-- Row 2 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="Units Required *" styleClass="form-label"/>
                                <TextField fx:id="unitsRequiredField" promptText="Enter number of units" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="Urgency Level *" styleClass="form-label"/>
                                <ComboBox fx:id="urgencyField" promptText="Select urgency" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="1">
                                <Label text="Contact Number *" styleClass="form-label"/>
                                <TextField fx:id="contactField" promptText="Enter contact number" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Row 3 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="3">
                                <Label text="Medical Condition/Reason" styleClass="form-label"/>
                                <TextField fx:id="reasonField" promptText="Enter medical condition or reason for request" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Submit Button -->
                            <HBox alignment="CENTER_RIGHT" GridPane.columnIndex="0" GridPane.rowIndex="3" GridPane.columnSpan="3">
                                <Button text="ðŸ“¤ Submit Request" styleClass="modern-button"/>
                            </HBox>
                        </GridPane>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Blood Inventory Interface -->
            <ScrollPane fx:id="inventoryView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header with Actions -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ“¦ Blood Inventory Management" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ” Search" styleClass="modern-button secondary"/>
                        <Button text="âž• Add Blood Unit" styleClass="modern-button"/>
                        <Button text="ðŸ“Š Export Data" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Inventory Statistics Summary -->
                    <HBox spacing="20">
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Total Units" styleClass="mini-stat-title"/>
                            <Label fx:id="totalUnitsCount" text="3,456" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Critical Stock" styleClass="mini-stat-title"/>
                            <Label fx:id="criticalStockCount" text="2" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Expiring Soon" styleClass="mini-stat-title"/>
                            <Label fx:id="expiringSoonCount" text="47" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Avg. Turnover" styleClass="mini-stat-title"/>
                            <Label fx:id="avgTurnoverCount" text="89%" styleClass="mini-stat-number"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Blood Type Inventory -->
                    <VBox styleClass="table-container">
                        <Label text="Blood Type Inventory" styleClass="table-title"/>
                        <TableView fx:id="inventoryTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="bloodTypeColumn" text="Blood Type" prefWidth="100"/>
                                <TableColumn fx:id="totalUnitsColumn" text="Total Units" prefWidth="120"/>
                                <TableColumn fx:id="availableColumn" text="Available" prefWidth="120"/>
                                <TableColumn fx:id="reservedColumn" text="Reserved" prefWidth="120"/>
                                <TableColumn fx:id="expiringSoonColumn" text="Expiring Soon" prefWidth="150"/>
                                <TableColumn fx:id="criticalLevelColumn" text="Critical Level" prefWidth="150"/>
                                <TableColumn fx:id="actionsColumn2" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Storage Units -->
                    <VBox styleClass="table-container">
                        <Label text="Storage Units" styleClass="table-title"/>
                        <TableView fx:id="storageTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="storageIdColumn" text="Storage ID" prefWidth="120"/>
                                <TableColumn fx:id="locationColumn" text="Location" prefWidth="150"/>
                                <TableColumn fx:id="capacityColumn" text="Capacity" prefWidth="120"/>
                                <TableColumn fx:id="usedSpaceColumn" text="Used Space" prefWidth="120"/>
                                <TableColumn fx:id="temperatureColumn" text="Temperature" prefWidth="120"/>
                                <TableColumn fx:id="statusColumn2" text="Status" prefWidth="120"/>
                                <TableColumn fx:id="actionsColumn3" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Add Blood Unit Form -->
                    <VBox styleClass="form-container">
                        <Label text="âž• Add New Blood Unit" styleClass="form-title"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                            </columnConstraints>
                            
                            <!-- Row 1 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="Donor ID *" styleClass="form-label"/>
                                <TextField fx:id="donorIdField" promptText="Enter donor ID" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Blood Type *" styleClass="form-label"/>
                                <ComboBox fx:id="unitBloodTypeField" promptText="Select blood type" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="Collection Date *" styleClass="form-label"/>
                                <DatePicker fx:id="collectionDateField" promptText="Select date" styleClass="form-datepicker"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="0">
                                <Label text="Expiry Date *" styleClass="form-label"/>
                                <DatePicker fx:id="expiryDateField" promptText="Select date" styleClass="form-datepicker"/>
                            </VBox>
                            
                            <!-- Row 2 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="Volume (ml) *" styleClass="form-label"/>
                                <TextField fx:id="volumeField" promptText="Enter volume" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="Storage Unit *" styleClass="form-label"/>
                                <ComboBox fx:id="storageUnitField" promptText="Select storage unit" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="1">
                                <Label text="Quality Status *" styleClass="form-label"/>
                                <ComboBox fx:id="qualityStatusField" promptText="Select quality" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="1">
                                <Label text="Donation Type *" styleClass="form-label"/>
                                <ComboBox fx:id="donationTypeField" promptText="Select type" styleClass="form-combo" />
                            </VBox>
                            
                            <!-- Submit Button -->
                            <HBox alignment="CENTER_RIGHT" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="4">
                                <Button text="ðŸ“¥ Add Blood Unit" styleClass="modern-button"/>
                            </HBox>
                        </GridPane>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Campaigns Interface -->
            <ScrollPane fx:id="campaignsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header with Actions -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ“… Campaign Management" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ” Search" styleClass="modern-button secondary"/>
                        <Button text="âž• Create Campaign" styleClass="modern-button"/>
                        <Button text="ðŸ“Š Export Data" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Campaign Statistics Summary -->
                    <HBox spacing="20">
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Active Campaigns" styleClass="mini-stat-title"/>
                            <Label fx:id="activeCampaignsCount" text="5" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Upcoming Events" styleClass="mini-stat-title"/>
                            <Label fx:id="upcomingEventsCount" text="3" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Registered Donors" styleClass="mini-stat-title"/>
                            <Label fx:id="registeredDonorsCount" text="1,247" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Expected Collection" styleClass="mini-stat-title"/>
                            <Label fx:id="expectedCollectionCount" text="890 units" styleClass="mini-stat-number"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Campaigns Table -->
                    <VBox styleClass="table-container">
                        <Label text="Campaigns &amp; Events" styleClass="table-title"/>
                        <TableView fx:id="campaignsTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="campaignIdColumn" text="Campaign ID" prefWidth="120"/>
                                <TableColumn fx:id="campaignNameColumn" text="Campaign Name" prefWidth="200"/>
                                <TableColumn fx:id="startDateColumn" text="Start Date" prefWidth="120"/>
                                <TableColumn fx:id="endDateColumn" text="End Date" prefWidth="120"/>
                                <TableColumn fx:id="locationColumn2" text="Location" prefWidth="150"/>
                                <TableColumn fx:id="targetDonorsColumn" text="Target Donors" prefWidth="120"/>
                                <TableColumn fx:id="registeredDonorsColumn" text="Registered" prefWidth="120"/>
                                <TableColumn fx:id="statusColumn3" text="Status" prefWidth="120"/>
                                <TableColumn fx:id="actionsColumn4" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Create Campaign Form -->
                    <VBox styleClass="form-container">
                        <Label text="âž• Create New Campaign" styleClass="form-title"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="33.33"/>
                                <ColumnConstraints percentWidth="33.33"/>
                                <ColumnConstraints percentWidth="33.33"/>
                            </columnConstraints>
                            
                            <!-- Row 1 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="Campaign Name *" styleClass="form-label"/>
                                <TextField fx:id="campaignNameField" promptText="Enter campaign name" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Location *" styleClass="form-label"/>
                                <TextField fx:id="campaignLocationField" promptText="Enter location" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="Target Donors *" styleClass="form-label"/>
                                <TextField fx:id="targetDonorsField" promptText="Enter target donors" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Row 2 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="Start Date *" styleClass="form-label"/>
                                <DatePicker fx:id="startDateField" promptText="Select start date" styleClass="form-datepicker"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="End Date *" styleClass="form-label"/>
                                <DatePicker fx:id="endDateField" promptText="Select end date" styleClass="form-datepicker"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="1">
                                <Label text="Organizer *" styleClass="form-label"/>
                                <TextField fx:id="organizerField" promptText="Enter organizer name" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Row 3 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="3">
                                <Label text="Description" styleClass="form-label"/>
                                <TextField fx:id="descriptionField" promptText="Enter campaign description" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Submit Button -->
                            <HBox alignment="CENTER_RIGHT" GridPane.columnIndex="0" GridPane.rowIndex="3" GridPane.columnSpan="3">
                                <Button text="ðŸ“… Create Campaign" styleClass="modern-button"/>
                            </HBox>
                        </GridPane>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Rewards Interface -->
            <ScrollPane fx:id="rewardsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header with Actions -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ† Rewards &amp; Leaderboard" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ“Š Export Data" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Rewards Statistics Summary -->
                    <HBox spacing="20">
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Total Points" styleClass="mini-stat-title"/>
                            <Label fx:id="totalPointsCount" text="45,678" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Active Donors" styleClass="mini-stat-title"/>
                            <Label fx:id="activeRewardsDonorsCount" text="892" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Top Donor" styleClass="mini-stat-title"/>
                            <Label fx:id="topDonorName" text="John Smith" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="This Month" styleClass="mini-stat-title"/>
                            <Label fx:id="monthlyPointsCount" text="3,456 pts" styleClass="mini-stat-number"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Leaderboard Table -->
                    <VBox styleClass="table-container">
                        <Label text="ðŸ† Donor Leaderboard" styleClass="table-title"/>
                        <TableView fx:id="leaderboardTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="rankColumn" text="Rank" prefWidth="80"/>
                                <TableColumn fx:id="donorNameColumn2" text="Donor Name" prefWidth="200"/>
                                <TableColumn fx:id="donationCountColumn" text="Donations" prefWidth="120"/>
                                <TableColumn fx:id="pointsColumn" text="Points" prefWidth="120"/>
                                <TableColumn fx:id="badgesColumn" text="Badges" prefWidth="150"/>
                                <TableColumn fx:id="lastDonationColumn2" text="Last Donation" prefWidth="150"/>
                                <TableColumn fx:id="actionsColumn5" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Achievements Section -->
                    <VBox styleClass="table-container">
                        <Label text="ðŸ… Achievements &amp; Badges" styleClass="table-title"/>
                        <TableView fx:id="achievementsTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="badgeNameColumn" text="Badge Name" prefWidth="200"/>
                                <TableColumn fx:id="descriptionColumn" text="Description" prefWidth="300"/>
                                <TableColumn fx:id="criteriaColumn" text="Criteria" prefWidth="200"/>
                                <TableColumn fx:id="earnedColumn" text="Earned" prefWidth="120"/>
                                <TableColumn fx:id="actionsColumn6" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Statistics Interface -->
            <ScrollPane fx:id="statisticsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header with Actions -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸ“ˆ Statistics &amp; Reports" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ“… Date Range" styleClass="modern-button secondary"/>
                        <Button text="ðŸ“Š Export Report" styleClass="modern-button"/>
                        <Button text="ðŸ–¨ï¸ Print Report" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Statistics Charts -->
                    <HBox spacing="20">
                        <!-- Donations Over Time -->
                        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS">
                            <Label text="ðŸ“Š Donations Over Time" styleClass="card-title"/>
                            <VBox spacing="10">
                                <!-- Chart would go here in a real implementation -->
                                <Label text="ðŸ“ˆ Chart Placeholder - Donations trend over selected period" styleClass="chart-placeholder"/>
                            </VBox>
                        </VBox>
                        
                        <!-- Blood Type Distribution -->
                        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS">
                            <Label text="ðŸ©¸ Blood Type Distribution" styleClass="card-title"/>
                            <VBox spacing="10">
                                <!-- Chart would go here in a real implementation -->
                                <Label text="ðŸ“Š Chart Placeholder - Distribution of blood types in inventory" styleClass="chart-placeholder"/>
                            </VBox>
                        </VBox>
                    </HBox>
                    
                    <!-- Reports Section -->
                    <VBox styleClass="table-container">
                        <Label text="ðŸ“‹ Generated Reports" styleClass="table-title"/>
                        <TableView fx:id="reportsTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="reportIdColumn" text="Report ID" prefWidth="120"/>
                                <TableColumn fx:id="reportNameColumn" text="Report Name" prefWidth="250"/>
                                <TableColumn fx:id="generatedDateColumn" text="Generated Date" prefWidth="150"/>
                                <TableColumn fx:id="reportTypeColumn" text="Type" prefWidth="120"/>
                                <TableColumn fx:id="generatedByColumn" text="Generated By" prefWidth="150"/>
                                <TableColumn fx:id="actionsColumn7" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Generate Custom Report -->
                    <VBox styleClass="form-container">
                        <Label text="âš™ï¸ Generate Custom Report" styleClass="form-title"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="33.33"/>
                                <ColumnConstraints percentWidth="33.33"/>
                                <ColumnConstraints percentWidth="33.33"/>
                            </columnConstraints>
                            
                            <!-- Row 1 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="Report Type *" styleClass="form-label"/>
                                <ComboBox fx:id="reportTypeField" promptText="Select report type" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Date Range *" styleClass="form-label"/>
                                <HBox spacing="5">
                                    <DatePicker fx:id="startDateField2" promptText="Start date" styleClass="form-datepicker" HBox.hgrow="ALWAYS"/>
                                    <Label text="to" styleClass="form-label"/>
                                    <DatePicker fx:id="endDateField2" promptText="End date" styleClass="form-datepicker" HBox.hgrow="ALWAYS"/>
                                </HBox>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="Format *" styleClass="form-label"/>
                                <ComboBox fx:id="formatField" promptText="Select format" styleClass="form-combo" />
                            </VBox>
                            
                            <!-- Row 2 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.columnSpan="3">
                                <Label text="Additional Filters" styleClass="form-label"/>
                                <TextField fx:id="filtersField" promptText="Enter additional filters (optional)" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Submit Button -->
                            <HBox alignment="CENTER_RIGHT" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="3">
                                <Button text="ðŸ“Š Generate Report" styleClass="modern-button"/>
                            </HBox>
                        </GridPane>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Emergency Interface -->
            <ScrollPane fx:id="emergencyView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20" styleClass="content-padding">
                    <!-- Page Header with Actions -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸš¨ Emergency Response" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ”” Raise Alert" styleClass="modern-button"/>
                        <Button text="ðŸ“Š Export Data" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Emergency Statistics Summary -->
                    <HBox spacing="20">
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Active Alerts" styleClass="mini-stat-title"/>
                            <Label fx:id="activeAlertsCount" text="2" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Critical Requests" styleClass="mini-stat-title"/>
                            <Label fx:id="criticalRequestsCount" text="1" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Response Time" styleClass="mini-stat-title"/>
                            <Label fx:id="avgResponseTime" text="12 min" styleClass="mini-stat-number"/>
                        </VBox>
                        <VBox styleClass="stat-mini-card" HBox.hgrow="ALWAYS">
                            <Label text="Resolved Today" styleClass="mini-stat-title"/>
                            <Label fx:id="resolvedTodayCount" text="3" styleClass="mini-stat-number"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Active Alerts Table -->
                    <VBox styleClass="table-container">
                        <Label text="ðŸš¨ Active Emergency Alerts" styleClass="table-title"/>
                        <TableView fx:id="alertsTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="alertIdColumn" text="Alert ID" prefWidth="100"/>
                                <TableColumn fx:id="alertTypeColumn" text="Type" prefWidth="120"/>
                                <TableColumn fx:id="bloodTypeColumn2" text="Blood Type" prefWidth="120"/>
                                <TableColumn fx:id="unitsRequiredColumn2" text="Units Required" prefWidth="120"/>
                                <TableColumn fx:id="hospitalColumn" text="Hospital" prefWidth="150"/>
                                <TableColumn fx:id="requestTimeColumn" text="Request Time" prefWidth="150"/>
                                <TableColumn fx:id="statusColumn4" text="Status" prefWidth="120"/>
                                <TableColumn fx:id="actionsColumn8" text="Actions" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Raise Emergency Alert Form -->
                    <VBox styleClass="form-container">
                        <Label text="ðŸ”” Raise Emergency Alert" styleClass="form-title"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="33.33"/>
                                <ColumnConstraints percentWidth="33.33"/>
                                <ColumnConstraints percentWidth="33.33"/>
                            </columnConstraints>
                            
                            <!-- Row 1 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="Alert Type *" styleClass="form-label"/>
                                <ComboBox fx:id="alertTypeField" promptText="Select alert type" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Blood Type Required *" styleClass="form-label"/>
                                <ComboBox fx:id="emergencyBloodTypeField" promptText="Select blood type" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="Units Required *" styleClass="form-label"/>
                                <TextField fx:id="emergencyUnitsField" promptText="Enter units required" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Row 2 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="Hospital/Clinic *" styleClass="form-label"/>
                                <TextField fx:id="emergencyHospitalField" promptText="Enter hospital name" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="Contact Person *" styleClass="form-label"/>
                                <TextField fx:id="contactPersonField" promptText="Enter contact person" styleClass="form-input"/>
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="1">
                                <Label text="Contact Number *" styleClass="form-label"/>
                                <TextField fx:id="emergencyContactField" promptText="Enter contact number" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Row 3 -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="3">
                                <Label text="Additional Information" styleClass="form-label"/>
                                <TextField fx:id="additionalInfoField" promptText="Enter additional information about the emergency" styleClass="form-input"/>
                            </VBox>
                            
                            <!-- Submit Button -->
                            <HBox alignment="CENTER_RIGHT" GridPane.columnIndex="0" GridPane.rowIndex="3" GridPane.columnSpan="3">
                                <Button text="ðŸ”” Raise Emergency Alert" styleClass="modern-button"/>
                            </HBox>
                        </GridPane>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            <!-- Voice Commands Interface -->
            <ScrollPane fx:id="voiceCommandsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="25" styleClass="content-padding">
                    <!-- Page Header -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="ðŸŽ¤ Voice Commands Interface" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ”Š Start Listening" styleClass="modern-button" onAction="#simulateVoiceCommand"/>
                        <Button text="â¹ï¸ Stop Listening" styleClass="modern-button secondary"/>
                    </HBox>
                    
                    <!-- Voice Command Status -->
                    <VBox styleClass="dashboard-card">
                        <Label text="ðŸŽ™ï¸ Voice Command Status" styleClass="card-title"/>
                        <HBox alignment="CENTER_LEFT" spacing="20">
                            <Label text="Status:" styleClass="voice-status-label"/>
                            <Label fx:id="voiceStatusIndicator" text="ðŸ”´ Not Listening" styleClass="voice-status-inactive"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label text="Last Command:" styleClass="voice-status-label"/>
                            <Label fx:id="lastCommandLabel" text="None" styleClass="voice-status-text"/>
                        </HBox>
                    </VBox>
                    
                    <!-- Voice Command Examples -->
                    <VBox styleClass="dashboard-card">
                        <Label text="ðŸ’¡ Voice Command Examples" styleClass="card-title"/>
                        <GridPane hgap="20" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="50"/>
                                <ColumnConstraints percentWidth="50"/>
                            </columnConstraints>
                            
                            <VBox spacing="10" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="ðŸ“‹ Navigation Commands" styleClass="voice-section-title"/>
                                <Label text="â€¢ Show dashboard" styleClass="voice-command-example"/>
                                <Label text="â€¢ Go to donors page" styleClass="voice-command-example"/>
                                <Label text="â€¢ Open inventory" styleClass="voice-command-example"/>
                                <Label text="â€¢ Show campaigns" styleClass="voice-command-example"/>
                                <Label text="â€¢ Emergency response" styleClass="voice-command-example"/>
                            </VBox>
                            
                            <VBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="ðŸ” Search Commands" styleClass="voice-section-title"/>
                                <Label text="â€¢ Find donor John Smith" styleClass="voice-command-example"/>
                                <Label text="â€¢ Search for O+ blood" styleClass="voice-command-example"/>
                                <Label text="â€¢ Locate donor with ID 123" styleClass="voice-command-example"/>
                                <Label text="â€¢ Show donors in New York" styleClass="voice-command-example"/>
                            </VBox>
                            
                            <VBox spacing="10" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="ðŸ“Š Report Commands" styleClass="voice-section-title"/>
                                <Label text="â€¢ Generate monthly report" styleClass="voice-command-example"/>
                                <Label text="â€¢ Show statistics" styleClass="voice-command-example"/>
                                <Label text="â€¢ Export donor data" styleClass="voice-command-example"/>
                                <Label text="â€¢ Print inventory report" styleClass="voice-command-example"/>
                            </VBox>
                            
                            <VBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="âš™ï¸ System Commands" styleClass="voice-section-title"/>
                                <Label text="â€¢ Toggle dark mode" styleClass="voice-command-example"/>
                                <Label text="â€¢ Refresh dashboard" styleClass="voice-command-example"/>
                                <Label text="â€¢ Logout system" styleClass="voice-command-example"/>
                                <Label text="â€¢ Show help" styleClass="voice-command-example"/>
                            </VBox>
                        </GridPane>
                    </VBox>
                    
                    <!-- Voice Command History -->
                    <VBox styleClass="table-container">
                        <Label text="ðŸ“œ Voice Command History" styleClass="table-title"/>
                        <TableView fx:id="voiceHistoryTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="timestampColumn" text="Timestamp" prefWidth="200"/>
                                <TableColumn fx:id="commandColumn" text="Recognized Command" prefWidth="300"/>
                                <TableColumn fx:id="actionColumn" text="Executed Action" prefWidth="250"/>
                                <TableColumn fx:id="statusColumn5" text="Status" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Voice Command Settings -->
                    <VBox styleClass="form-container">
                        <Label text="âš™ï¸ Voice Command Settings" styleClass="form-title"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="33.33"/>
                                <ColumnConstraints percentWidth="33.33"/>
                                <ColumnConstraints percentWidth="33.33"/>
                            </columnConstraints>
                            
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="Voice Recognition Engine" styleClass="form-label"/>
                                <ComboBox fx:id="voiceEngineField" promptText="Select engine" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Language" styleClass="form-label"/>
                                <ComboBox fx:id="languageField" promptText="Select language" styleClass="form-combo" />
                            </VBox>
                            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="Sensitivity" styleClass="form-label"/>
                                <Slider fx:id="sensitivitySlider" min="0" max="100" value="75" styleClass="form-slider"/>
                            </VBox>
                            
                            <HBox alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.columnSpan="3">
                                <CheckBox fx:id="continuousListeningCheckbox" text="Continuous Listening" styleClass="form-checkbox"/>
                                <CheckBox fx:id="voiceFeedbackCheckbox" text="Voice Feedback" styleClass="form-checkbox"/>
                                <CheckBox fx:id="commandHistoryCheckbox" text="Save Command History" styleClass="form-checkbox"/>
                            </HBox>
                            
                            <HBox alignment="CENTER_RIGHT" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="3">
                                <Button text="ðŸ’¾ Save Settings" styleClass="modern-button"/>
                            </HBox>
                        </GridPane>
                    </VBox>
                </VBox>
            </ScrollPane>
        </StackPane>
    </center>
</BorderPane>