<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.bloodmate.desktop.controller.MainController" 
            styleClass="main-container">

    <!-- Left Sidebar Navigation -->
    <left>
        <VBox styleClass="sidebar">
            <!-- Logo and Header -->
            <VBox styleClass="sidebar-header">
                <!-- Clickable Logo Button -->
                <Button fx:id="logoBtn" styleClass="logo-button" onAction="#showDashboard" maxWidth="Infinity">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <!-- Blood Drop Icon -->
                            <VBox styleClass="blood-drop-logo" alignment="CENTER">
                                <Label text="🩸" styleClass="blood-drop-icon"/>
                            </VBox>
                            <!-- Logo Text -->
                            <VBox alignment="CENTER_LEFT">
                                <Label text="BloodMate" styleClass="logo-title"/>
                                <Label text="Blood Bank System" styleClass="logo-subtitle"/>
                            </VBox>
                        </HBox>
                    </graphic>
                </Button>
                <Button fx:id="themeToggleBtn" text="🌙 Dark Mode" styleClass="theme-toggle" 
                        onAction="#toggleTheme" maxWidth="Infinity"/>
            </VBox>
            
            <!-- Scrollable Navigation Menu -->
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" styleClass="sidebar-scroll">
                <VBox spacing="2">
                    <Button fx:id="dashboardBtn" text="📊 Dashboard" styleClass="nav-button,active" 
                            onAction="#showDashboard" maxWidth="Infinity"/>
                    <Button fx:id="donorsBtn" text="👥 Donor Management" styleClass="nav-button" 
                            onAction="#showDonors" maxWidth="Infinity"/>
                    <Button fx:id="recipientsBtn" text="🏥 Recipients" styleClass="nav-button" 
                            onAction="#showRecipients" maxWidth="Infinity"/>
                    <Button fx:id="inventoryBtn" text="📦 Blood Inventory" styleClass="nav-button" 
                            onAction="#showInventory" maxWidth="Infinity"/>
                    <Button fx:id="campaignsBtn" text="📅 Campaigns" styleClass="nav-button" 
                            onAction="#showCampaigns" maxWidth="Infinity"/>
                    <Button fx:id="rewardsBtn" text="🏆 Rewards &amp; Leaderboard" styleClass="nav-button" 
                            onAction="#showRewards" maxWidth="Infinity"/>
                    <Button fx:id="statisticsBtn" text="📈 Statistics &amp; Reports" styleClass="nav-button" 
                            onAction="#showStatistics" maxWidth="Infinity"/>
                    <Button fx:id="emergencyBtn" text="🚨 Emergency Response" styleClass="nav-button" 
                            onAction="#showEmergency" maxWidth="Infinity"/>
                    
                    <!-- AI & Innovation Section -->
                    <Label text="🤖 AI Features" styleClass="nav-section-title"/>
                    <Button fx:id="aiPredictionBtn" text="🔮 AI Blood Prediction" styleClass="nav-button" 
                            onAction="#showAIPrediction" maxWidth="Infinity"/>
                    <Button fx:id="gamificationBtn" text="🎮 Gamification Hub" styleClass="nav-button" 
                            onAction="#showGamification" maxWidth="Infinity"/>
                    <Button fx:id="iotMonitoringBtn" text="📡 IoT Monitoring" styleClass="nav-button" 
                            onAction="#showIoTMonitoring" maxWidth="Infinity"/>
                    <Button fx:id="blockchainBtn" text="⛓️ Blockchain Verify" styleClass="nav-button" 
                            onAction="#showBlockchain" maxWidth="Infinity"/>
                    <Button fx:id="voiceCommandsBtn" text="🎤 Voice Commands" styleClass="nav-button" 
                            onAction="#showVoiceCommands" maxWidth="Infinity"/>
                                        
                    <!-- Revolutionary Technologies Section -->
                    <Label text="🚀 Revolutionary Tech" styleClass="nav-section-title"/>
                    <Button fx:id="quantumMatchingBtn" text="⚛️ Quantum Matching" styleClass="nav-button" 
                            onAction="#showQuantumMatching" maxWidth="Infinity"/>
                    <Button fx:id="biometricAuthBtn" text="👁️ Biometric Auth" styleClass="nav-button" 
                            onAction="#showBiometricAuth" maxWidth="Infinity"/>
                    <Button fx:id="arVisualizationBtn" text="🥽 AR Visualization" styleClass="nav-button" 
                            onAction="#showARVisualization" maxWidth="Infinity"/>
                    <Button fx:id="neuralQualityBtn" text="🧠 Neural Quality" styleClass="nav-button" 
                            onAction="#showNeuralQuality" maxWidth="Infinity"/>
                    <Button fx:id="droneDeliveryBtn" text="🚁 Drone Delivery" styleClass="nav-button" 
                            onAction="#showDroneDelivery" maxWidth="Infinity"/>
                    <Button fx:id="digitalTwinBtn" text="👥 Digital Twin" styleClass="nav-button" 
                            onAction="#showDigitalTwin" maxWidth="Infinity"/>
                    <Button fx:id="satelliteCommBtn" text="🛰️ Satellite Comm" styleClass="nav-button" 
                            onAction="#showSatelliteComm" maxWidth="Infinity"/>
                    <Button fx:id="holographicBtn" text="🌐 Holographic UI" styleClass="nav-button" 
                            onAction="#showHolographic" maxWidth="Infinity"/>
                    
                    <!-- Spacer -->
                    <Region VBox.vgrow="ALWAYS"/>
                    
                    <Button fx:id="settingsBtn" text="⚙️ Settings" styleClass="nav-button" 
                            onAction="#showSettings" maxWidth="Infinity"/>
                    <Button fx:id="logoutBtn" text="🚪 Logout" styleClass="nav-button" 
                            onAction="#logout" maxWidth="Infinity"/>
                </VBox>
            </ScrollPane>
        </VBox>
    </left>
    
    <!-- Main Content Area -->
    <center>
        <StackPane fx:id="contentArea" styleClass="content-area">
            <!-- Dashboard Content (Default View) -->
            <ScrollPane fx:id="dashboardView" fitToWidth="true" fitToHeight="true">
                <VBox spacing="30">
                    <!-- Page Header -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <Label text="Dashboard Overview" styleClass="page-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Label fx:id="currentDateTime" styleClass="section-title"/>
                        <Button text="🔄 Refresh" styleClass="modern-button" onAction="#refreshDashboard"/>
                    </HBox>
                    
                    <!-- Content will be loaded here dynamically -->
                    <Label text="✅ Scrolling Dashboard Content - All scrollbars working!" styleClass="page-title"/>
                </VBox>
            </ScrollPane>
            
            <!-- Other Views with ScrollPanes -->
            <ScrollPane fx:id="donorsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20">
                    <Label text="👥 Donor Management" styleClass="page-title"/>
                    <Label text="✅ Scrollable Donor Management - Vertical and horizontal scrollbars work!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="recipientsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20">
                    <Label text="🏥 Recipient Management" styleClass="page-title"/>
                    <Label text="✅ Scrollable Recipients - All scrolling enabled!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="inventoryView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20">
                    <Label text="📦 Blood Inventory" styleClass="page-title"/>
                    <Label text="✅ Scrollable Inventory - Perfect scrolling experience!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="campaignsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20">
                    <Label text="📅 Campaign Management" styleClass="page-title"/>
                    <Label text="✅ Scrollable Campaigns - Smooth scrolling interface!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="rewardsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20">
                    <Label text="🏆 Rewards &amp; Leaderboard" styleClass="page-title"/>
                    <Label text="✅ Scrollable Rewards - Enhanced with scrollbars!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="statisticsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20">
                    <Label text="📈 Statistics &amp; Reports" styleClass="page-title"/>
                    <Label text="✅ Scrollable Statistics - Complete scrolling support!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="emergencyView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="20">
                    <Label text="🚨 Emergency Response" styleClass="page-title"/>
                    <Label text="✅ Scrollable Emergency - All scrollbars functional!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <!-- AI Views -->
            <ScrollPane fx:id="aiPredictionView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="25">
                    <Label text="🔮 AI Blood Prediction" styleClass="page-title"/>
                    <Label text="✅ Scrollable AI Interface - Revolutionary with scrollbars!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="gamificationView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="25">
                    <Label text="🎮 Gamification Hub" styleClass="page-title"/>
                    <Label text="✅ Scrollable Gamification - Level up with scrolling!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="iotMonitoringView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="25">
                    <Label text="📡 IoT Monitoring" styleClass="page-title"/>
                    <Label text="✅ Scrollable IoT Dashboard - Smart scrolling enabled!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="blockchainView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="25">
                    <Label text="⛓️ Blockchain Verification" styleClass="page-title"/>
                    <Label text="✅ Scrollable Blockchain - Immutable scrolling experience!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="voiceCommandsView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="25">
                    <Label text="🎤 Voice Commands" styleClass="page-title"/>
                    <Label text="✅ Scrollable Voice Interface - Voice + scrolling = perfect!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
            
            <ScrollPane fx:id="quantumMatchingView" visible="false" managed="false" fitToWidth="true" fitToHeight="true">
                <VBox spacing="25">
                    <Label text="⚛️ Quantum Matching" styleClass="page-title"/>
                    <Label text="✅ Scrollable Quantum Interface - Quantum scrolling technology!" styleClass="section-title"/>
                </VBox>
            </ScrollPane>
        </StackPane>
    </center>
</BorderPane>